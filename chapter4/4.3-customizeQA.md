# QA — Customizzare Observability Stack

Domande e risposte avanzate relative a chapter4/4.3-customize.md

1) Domanda
Come valutare se aumentare repliche di Thanos Receive o scalare Prometheus sui managed cluster?  
Risposta  
Se il collo di bottiglia è ingest/ingest queue e ricezione centrale lenta, aumentare Thanos Receive; se i problemi sono query locali o cardinalità elevate per singolo cluster, scalare Prometheus locale. Analisi delle metriche ingest rate e latenza aiuta decisione.

2) Domanda
Quali rischi introduce l’inserimento di custom metrics di workload in termini di cardinalità?  
Risposta  
Custom labels non controllate aumentano cardinalità e costi; imporre naming convention, cardinality limits, e usare recording rules per aggregare prima di inviare al hub.

3) Domanda
Come gestire la promozione di nuove alerting rules dal test al production evitando false positive?  
Risposta  
Usare stage pipeline: test su staging con dati reali o replay, usare severity/forgiveness (hold time), e rollout canary per piccoli cluster-set prima di fleet-wide promotion.

4) Domanda
In quale formato conviene versionare dashboard Grafana personalizzate per facilitare rollbacks e promozioni?  
Risposta  
Versionare le dashboard come JSON in repo Git, usare tagging semantico e pipeline che applicano dashboard via provisioning; mantenere rollback script e note di release.

5) Domanda
Come integrare alerting multi-cluster con sistemi esterni (PagerDuty, Slack) in modo che gli on-call ricevano contesto sufficiente?  
Risposta  
Allegare link a Topology view e a runbook, includere cluster-set e impact scope nel payload, usare routing basato su cluster-set/servizio per inviare agli on-call giusti e ridurre rumore.