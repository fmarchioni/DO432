# QA — GitOps e RHACM (integrazione)

Domande e risposte avanzate relative a chapter5/5.1-integrating-gitops.md

1) Domanda
Quali aspetti vanno versionati nel repo Git per supportare ZTP + GitOps in modo robusto?  
Risposta  
Versionare cluster templates (ClusterDeployment), ApplicationSet, overlay Kustomize, Policy manifests, ManagedClusterSetBinding, e secrets in vault/mirrors. Mantenere immutabilità delle ClusterImageSet e versionare rollout plans (wave definitions).

2) Domanda
Come progettare ApplicationSet per supportare cluster dinamici che arrivano via ZTP?  
Risposta  
Usare generator basati su label selettori o file lists che si aggiornano automaticamente; definire template con overlay per variabilità e usare Placement per assegnare overlay in base a label di cluster appena provisionati.

3) Domanda
Quando conviene usare push model vs pull model per Argo CD in un ambiente multicluster gestito da RHACM?  
Risposta  
Pull model (Argo CD on managed) è preferibile per cluster air-gapped e resilienza; Push model (hub Argo CD) può essere utile per centralizzazione e accesso a registri centralizzati. Scegliere in base networking, security e compliance.

4) Domanda
Come minimizzare drift quando si usa GitOps combinato con automazioni locali di cluster (es. operator che modifica risorse)?  
Risposta  
Usare sync windows, policy che consentono operator-managed fields, reconciliation hooks per riconoscere e preservare cambiamenti legittimi e test di integrazione per evitare override non voluti.

5) Domanda
Quali strumenti/metadati usare per tracciare chi e cosa ha causato una modifica fuori-Git in un ambiente GitOps?  
Risposta  
Abilitare audit logs, integrare con Policy Automation per rilevare drift, usare annotazioni su risorse per tracciare origine e includere webhook che inviano eventi a SIEM/ticketing per forensics e attribution.