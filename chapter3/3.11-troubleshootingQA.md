# QA — Troubleshooting Governance e Gatekeeper

Domande e risposte avanzate relative a chapter3/3.11-troubleshooting.md

1) Domanda
Qual è la checklist rapida per indagare perché una policy non viene valutata su un managed cluster?  
Risposta  
Verificare Placement/Binding, assicurarsi che la policy sia propagata (propagator logs), controllare CR copy nel namespace rappresentante del cluster, verificare che il controller addon sia running e che non ci siano errori di sintassi nel template.

2) Domanda
Come diagnosticare mismatch tra stato reported dal managed cluster e lo stato aggregato nell’Hub?  
Risposta  
Controllare timestamp degli eventi, log del propagator, connettività periodica e errori di serializzazione; ri-sincronizzare lo stato forzando refresh o riapplicando la policy di test per verificare propagation.

3) Domanda
Quali strumenti usare per debug di regole Rego non funzionanti?  
Risposta  
Usare rego playground locale, gatekeeper audit logs, debug level dei pods gatekeeper, test unitari Rego e test end-to-end su cluster di staging; validare schema del ConstraintTemplate.

4) Domanda
Come evitare loop di remediation (policy che cambiano risorse e ri-scatenano la stessa policy)?  
Risposta  
Progettare remediation idempotenti, utilizzare condizioni nelle policy per rilevare stato target e prevedere exclusion in caso di remediation in corso; usare backoff e lock per evitare oscillazioni.

5) Domanda
In caso di rollback di una policy su larga scala, come minimizzare impatto operativo?  
Risposta  
Eseguire rollback tramite GitOps (revert commit), applicare prima in canary cluster, monitorare health e log, e avere runbook con azioni manuali per emergenze (es. disabling temporary delle reconciliation).